<template>
  <div class="technologies-page">
    <section class="hero hero-small">
      <div class="container">
        <div class="hero-badge">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</div>
        <h1 class="hero-title">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ–¥ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –±–∏–∑–Ω–µ—Å–∞</h1>
        <p class="hero-subtitle">–ù–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–µ–∫ –ø–æ–¥ –≤–∞—à—É –∑–∞–¥–∞—á—É –∏ –Ω–∞–≥—Ä—É–∑–∫—É</p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div
          v-for="(level, index) in techLevels"
          :key="index"
          class="tech-row"
          :class="{ 'tech-reverse': index % 2 !== 0 }"
        >
          <!-- Illustration -->
          <div class="tech-visual">
            <div class="visual-inner" :class="`visual-${level.color}`">
              <div class="visual-icon">{{ level.icon }}</div>
              <svg class="visual-pattern" viewBox="0 0 240 240" fill="none">
                <circle :cx="level.pattern[0]" :cy="level.pattern[1]" :r="level.pattern[2]" :fill="`url(#grad-${level.color})`" opacity="0.12"/>
                <rect :x="level.pattern[3]" :y="level.pattern[4]" :width="level.pattern[5]" :height="level.pattern[6]" rx="12" :fill="`url(#grad-${level.color})`" opacity="0.08" :transform="`rotate(${level.pattern[7]} 120 120)`"/>
                <circle cx="190" cy="50" r="24" :stroke="`url(#grad-${level.color})`" stroke-width="2" fill="none" opacity="0.15"/>
                <defs>
                  <linearGradient :id="`grad-${level.color}`" x1="0" y1="0" x2="240" y2="240">
                    <stop offset="0%" :stop-color="level.gradStart"/>
                    <stop offset="100%" :stop-color="level.gradEnd"/>
                  </linearGradient>
                </defs>
              </svg>
              <!-- Stats overlay -->
              <div class="visual-stats">
                <div class="visual-stat" v-for="(s, si) in level.stats" :key="si">
                  <strong>{{ s.value }}</strong>
                  <span>{{ s.label }}</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Content -->
          <div class="tech-content">
            <span class="tech-label" :style="{ color: level.gradStart }">{{ level.label }}</span>
            <h2 class="tech-title">{{ level.title }}</h2>
            <p class="tech-description">{{ level.subtitle }}</p>

            <div class="tech-stack">
              <div v-for="(item, idx) in level.stack" :key="idx" class="stack-chip">
                <strong>{{ item.category }}</strong>
                <span>{{ item.tech }}</span>
              </div>
            </div>

            <ul class="tech-benefits">
              <li v-for="(benefit, idx) in level.benefits" :key="idx">
                <span class="benefit-check" :style="{ background: level.gradStart }">‚úì</span>
                {{ benefit }}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section class="section section-dark">
      <div class="container text-center">
        <h2 class="section-title">–ù–µ —É–≤–µ—Ä–µ–Ω—ã, –∫–∞–∫–æ–π —Å—Ç–µ–∫ –ø–æ–¥–æ–π–¥—ë—Ç?</h2>
        <p class="section-subtitle">–ú—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ</p>
        <RouterLink to="/contact" class="btn btn-primary">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</RouterLink>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { RouterLink } from 'vue-router'

const techLevels = [
  {
    icon: 'üöÄ',
    label: '–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å',
    title: '–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç',
    subtitle: '–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è MVP –∏ –ø–µ—Ä–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.',
    color: 'green',
    gradStart: '#10B981',
    gradEnd: '#34D399',
    pattern: [50, 170, 70, 100, 30, 110, 90, 12],
    stack: [
      { category: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', tech: '–ú–æ–Ω–æ–ª–∏—Ç' },
      { category: 'Frontend', tech: 'React / Vue.js' },
      { category: 'Backend', tech: 'Node.js' },
      { category: '–ë–î', tech: 'PostgreSQL' },
      { category: '–ö—ç—à', tech: 'Redis' },
      { category: '–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞', tech: 'Docker' }
    ],
    benefits: [
      'MVP –∑–∞ 2-4 –Ω–µ–¥–µ–ª–∏',
      '–°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç 300 —Ç—ã—Å ‚ÇΩ',
      '–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –¥–µ–ø–ª–æ—è',
      'SLA 99%'
    ],
    stats: [
      { value: '2-4 –Ω–µ–¥.', label: '–¥–æ MVP' },
      { value: '–æ—Ç 300K', label: '—Å—Ç–æ–∏–º–æ—Å—Ç—å' },
      { value: '99%', label: 'SLA' }
    ]
  },
  {
    icon: 'üìà',
    label: '–°—Ä–µ–¥–Ω–∏–π –±–∏–∑–Ω–µ—Å',
    title: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É',
    subtitle: '–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è. –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã.',
    color: 'blue',
    gradStart: '#3B82F6',
    gradEnd: '#60A5FA',
    pattern: [160, 160, 60, 20, 50, 90, 70, -8],
    stack: [
      { category: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', tech: '–ú–æ–¥—É–ª—å–Ω–∞—è' },
      { category: 'Frontend', tech: 'React + Next.js (SSR)' },
      { category: 'Backend', tech: 'Node.js –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã' },
      { category: '–ë–î', tech: 'PostgreSQL + Elasticsearch' },
      { category: '–û—á–µ—Ä–µ–¥–∏', tech: 'RabbitMQ / NATS' },
      { category: '–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞', tech: 'Docker + Swarm' }
    ],
    benefits: [
      '–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è',
      '–°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç 1 –º–ª–Ω ‚ÇΩ',
      '–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
      'SLA 99.9%'
    ],
    stats: [
      { value: '3-6 –º–µ—Å.', label: '–¥–æ MVP' },
      { value: '–æ—Ç 1M', label: '—Å—Ç–æ–∏–º–æ—Å—Ç—å' },
      { value: '99.9%', label: 'SLA' }
    ]
  },
  {
    icon: 'üè¢',
    label: 'Enterprise',
    title: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å',
    subtitle: 'True –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –ø–æ–ª–∏–≥–ª–æ—Ç-—Å—Ç–µ–∫–µ. –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–æ–ª—è—Ü–∏—è —Å–±–æ–µ–≤, –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –î–ª—è –º–∏–ª–ª–∏–æ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.',
    color: 'red',
    gradStart: '#EF3F29',
    gradEnd: '#FB7A6A',
    pattern: [80, 80, 55, 130, 100, 80, 70, 20],
    stack: [
      { category: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', tech: 'True –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã' },
      { category: 'Frontend', tech: 'React / Angular' },
      { category: 'Backend', tech: 'Node.js, Java, Python' },
      { category: '–ë–î', tech: 'GraphDB + PostgreSQL + MongoDB' },
      { category: 'Messaging', tech: 'NATS JetStream' },
      { category: 'Search', tech: 'Elasticsearch' },
      { category: '–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞', tech: 'Kubernetes + Service Mesh' }
    ],
    benefits: [
      '–ú–∏–ª–ª–∏–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ',
      '–°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç 5 –º–ª–Ω ‚ÇΩ',
      '–ò–∑–æ–ª—è—Ü–∏—è —Å–±–æ–µ–≤ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å',
      'SLA 99.99%'
    ],
    stats: [
      { value: '6-12 –º–µ—Å.', label: '–¥–æ MVP' },
      { value: '–æ—Ç 5M', label: '—Å—Ç–æ–∏–º–æ—Å—Ç—å' },
      { value: '99.99%', label: 'SLA' }
    ]
  }
]
</script>

<style scoped>
/* Zigzag rows */
.tech-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-3xl);
  align-items: center;
  margin-bottom: var(--spacing-5xl);
}

.tech-row:last-child {
  margin-bottom: 0;
}

.tech-row.tech-reverse {
  direction: rtl;
}

.tech-row.tech-reverse > * {
  direction: ltr;
}

/* Visual / illustration */
.tech-visual {
  border-radius: var(--radius-xl);
  overflow: hidden;
}

.visual-inner {
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 3;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border-radius: var(--radius-xl);
  min-height: 320px;
}

.visual-inner.visual-green { background: linear-gradient(135deg, rgba(16,185,129,0.08), rgba(52,211,153,0.12)); }
.visual-inner.visual-blue { background: linear-gradient(135deg, rgba(59,130,246,0.08), rgba(96,165,250,0.12)); }
.visual-inner.visual-red { background: linear-gradient(135deg, rgba(239,63,41,0.08), rgba(251,122,106,0.12)); }

.visual-icon {
  font-size: 5rem;
  z-index: 2;
  filter: drop-shadow(0 4px 12px rgba(0,0,0,0.08));
}

.visual-pattern {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.visual-stats {
  position: absolute;
  bottom: var(--spacing-lg);
  left: var(--spacing-lg);
  right: var(--spacing-lg);
  display: flex;
  justify-content: center;
  gap: var(--spacing-xl);
  z-index: 2;
}

.visual-stat {
  text-align: center;
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(8px);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.visual-stat strong {
  display: block;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
}

.visual-stat span {
  font-size: var(--font-size-xs);
  color: var(--color-text-tertiary);
}

/* Content */
.tech-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.tech-label {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-bold);
  text-transform: uppercase;
  letter-spacing: 1.5px;
}

.tech-title {
  font-size: var(--font-size-h3);
  line-height: var(--line-height-tight);
}

.tech-description {
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
  font-size: var(--font-size-base);
}

/* Stack chips */
.tech-stack {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-sm);
}

.stack-chip {
  display: flex;
  flex-direction: column;
  gap: 1px;
  padding: var(--spacing-sm) var(--spacing-md);
  background: var(--color-bg-tertiary);
  border-radius: var(--radius-md);
  font-size: var(--font-size-xs);
}

.stack-chip strong {
  color: var(--color-text-primary);
  font-weight: var(--font-weight-semibold);
}

.stack-chip span {
  color: var(--color-text-tertiary);
}

/* Benefits */
.tech-benefits {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-sm);
}

.tech-benefits li {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
}

.benefit-check {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  color: white;
  font-size: 10px;
  flex-shrink: 0;
}

/* Responsive */
@media (max-width: 968px) {
  .tech-row,
  .tech-row.tech-reverse {
    grid-template-columns: 1fr;
    direction: ltr;
    gap: var(--spacing-xl);
  }

  .visual-inner {
    min-height: 240px;
  }
}

@media (max-width: 640px) {
  .visual-inner {
    min-height: 200px;
  }

  .visual-icon {
    font-size: 3.5rem;
  }

  .tech-title {
    font-size: var(--font-size-h4);
  }

  .visual-stats {
    gap: var(--spacing-sm);
  }

  .visual-stat {
    padding: var(--spacing-xs) var(--spacing-sm);
  }
}
</style>
